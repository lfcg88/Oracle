--PL/SQL PARA INSERIR NO BANCO CASO 
   
DECLARE 
	G_COD_ESP 	ESPECIALIDADE.CODESPECIALIDADE%TYPE := &COD;
	G_NOME		ESPECIALIDADE.NOME%TYPE := '&NOME';
	BEGIN 
		DECLARE
			BEGIN
				--INSERINDO A NOVA ESPECIALIDADE NO BANCO 
				INSERT 
					INTO ESPECIALIDADE
						( CODESPECIALIDADE,
						  NOME )
					VALUES 
						( G_COD_ESP,
						  G_NOME );
					:MSG := 'INSERÇÃO FEITA COM SUCESSO!!';
				--CASO OCORRA A EXCESSÃO ABAIXO ATUALIZA-SE O CAMPO NOME DA TABELA
				--OBS ESSA EXCESSÃO OCORRE QUANDO JA EXISTE A TUPLA NA TABELA
				EXCEPTION
					WHEN DUP_VAL_ON_INDEX THEN
						NULL;
						UPDATE ESPECIALIDADE
							SET NOME = G_NOME
						  WHERE CODESPECIALIDADE = G_COD_ESP;
						:MSG := 'UPDATE FEITO COM SUCESSO';
					WHEN OTHERS THEN
						NULL;
						:MSG := 'ERRO';
			END;
	END;  



